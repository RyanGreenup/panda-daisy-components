import { Meta } from "@storybook/addon-docs/blocks";
import { css } from '../styled-system/css';

<Meta title="Getting Started" />


# Panda Component Library


## Using These Components

1. Update the vite config so it does not optimize solid components into React:

   ```ts
   optimizeDeps: {
     exclude: [
         '@ryangreenup/panda-daisy-components',
     ],
   },

   ```

   For Solid Start, which uses Vinxi, this would be the `app.config.ts`, here's a full example:

   ```ts
   import { defineConfig } from "@solidjs/start/config";
   /* @ts-ignore */
   import pkg from "@vinxi/plugin-mdx";

   const { default: mdx } = pkg;
   export default defineConfig({
     extensions: ["mdx", "md"],
     vite: {
       optimizeDeps: {
         exclude: ["@ryangreenup/panda-daisy-components"],
       },
       plugins: [
         mdx.withImports({})({
           jsx: true,
           jsxImportSource: "solid-js",
           providerImportSource: "solid-mdx",
         }),
       ],
     },
   });
   ```

2. Update the `panda.config.ts` to scan the appropriate files:

   ```ts
   export default defineConfig({
     // Whether to use css reset
     preflight: true,

     jsxFramework: "solid",

     include: [
       "./src/**/*.{js,jsx,ts,tsx}",
       "./pages/**/*.{js,jsx,ts,tsx}",
       "./src/**/*.mdx",
       "./pages/**/*.mdx",

       // If installed as a node module
       "./node_modules/@ryangreenup/panda-daisy-components/stories/**/*.{js,tsx,ts,tsx,mdx}",
       "./node_modules/@ryangreenup/panda-daisy-components/src/**/*.{js,tsx,ts,tsx,mdx}",

       // If using filepaths
       // "../panda-storybook/stories/**/*.{js,tsx,ts,tsx,mdx}",
       // "../panda-storybook/src/**/*.{js,tsx,ts,tsx,mdx}",
     ],

     // ...

     // The output directory for your css system
     outdir: "styled-system",
   });
   ```

3. Install the dependency

   - File based -- Add this to the `package.json` `dependencies` field:

     ```json
     "dependencies": {
       "@ryan/panda-daisy-components": "file:../panda-storybook",
       ...
       ...
     ]
     ```

   - From GitHub

     ```sh
     module_name="@daisy-ui/storybook"
     repo="RyanGreenup/panda-daisy-components"
     branch="main"
     # Install
     bun install "${module_name}@github:${repo}/#${main}"
     # Pull as needed
     bun update
     ```

     This will add an entry like so to the json

     ```json
     "dependencies": {
       "@panda-ui/components": "github:RyanGreenup/panda-daisy-components/#main",
       ...
       ...
     ]
     ```

4. Import a library, like so:

   ```
   import { VirtualList } from "@panda-ui/storybook";
   ```

## How These Components were Created

1. Create a fresh Storybook:

   ```sh
   npx create-solid-storybook 'panda-storybook'
   ```

2. [Configure Panda CSS for Storybook](https://panda-css.com/docs/installation/storybook)

   - Develop or copy over presets such as
     - `../src/presets/daisy/daisy.ts`
     - [../src/presets/layout/layout.ts](/story/example-layout-compositions--styled-full-layout)

3. Track Styled-System by removing it from `.gitignore`, `git add`, `git commit`

4. Do NOT use an alias for any imports, these are compiled by typescript and will not work properly when imported by the consumer
   - This includes `/src/` and `/styled-system` !
   - Note generally storbook aliases must be set up in `../.storybook/main.ts` rather than `../tsconfig.json` which is for the _React_ side of things.
5. Ensure `package.json` has an appropriate name, e.g. `@ryangreenup/panda-daisy-components` and remove the `private: true` flag.

   - It may be necessary to add some additional fields to the `package.json` if it will be imported from GitHub rather than a file, here

     ```diff

     diff --git a/package.json b/package.json
     index 5053e1c..0502e14 100644
     --- a/package.json
     +++ b/package.json
     @@ -1,7 +1,18 @@
     {
     -  "name": "/home/ryan/Sync/Projects/solid-js/panda/panda-storybook",
     +  "name": "@ryan/panda-daisy-components",
       "version": "0.0.0",
     -  "private": true,
     +  "main": "src/index.ts",
     +  "module": "src/index.ts",
     +  "types": "src/index.ts",
     +  "exports": {
     +    ".": {
     +      "import": "./src/index.ts",
     +      "types": "./src/index.ts"
     +    }
     +  },
     +  "files": [
     +    "src"
     +  ],
       "scripts": {
         "storybook": "storybook dev -p 6006",
         "build-storybook": "storybook build",

     ```

     and a complete example:

     ```json
     {
       "name": "@ryan/panda-daisy-components",
       "version": "0.0.0",
       "main": "src/index.ts",
       "module": "src/index.ts",
       "types": "src/index.ts",
       "exports": {
         ".": {
           "import": "./src/index.ts",
           "types": "./src/index.ts"
         }
       },
       "files": ["src"],
       "scripts": {
         "storybook": "storybook dev -p 6006",
         "build-storybook": "storybook build",
         "prepare": "panda codegen",
         "prepare-clean": "panda codegen --clean"
       },
       "devDependencies": {
         "@chromatic-com/storybook": "^4.1.1",
         "@pandacss/dev": "^1.2.0",
         "@storybook/addon-a11y": "^9.1.3",
         "@storybook/addon-docs": "^9.1.3",
         "@storybook/addon-links": "^9.1.3",
         "@storybook/addon-onboarding": "^9.1.3",
         "@storybook/addon-vitest": "^9.1.3",
         "@vitest/browser": "^3.2.4",
         "@vitest/coverage-v8": "^3.2.4",
         "playwright": "^1.55.0",
         "solid-js": "^1.9.9",
         "storybook": "^9.1.3",
         "storybook-solidjs-vite": "^9.0.3",
         "vitest": "^3.2.4"
       },
       "dependencies": {
         "@tanstack/solid-virtual": "^3.13.12",
         "lucide-solid": "^0.542.0",
         "solid-transition-group": "^0.3.0"
       }
     }
     ```

6. Update any peerDependencies to signal requirements for a consumer

   - These won't be imported automatically, but the consumer can check / be advised

7. Push to Github

